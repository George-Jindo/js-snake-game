<!DOCTYPE html>
<html>
<head>
    <title>Play The Retro Snake Game!</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div id="container">
        <div id="topTitleBar">

            <h1 id="topTitleText">Play The Retro Snake Game!</h1>

        </div>

        <canvas id="gameCanvas" width="650" height="650"></canvas>

        <div id="gameScoreBox">
            <h2>Score:</h2>
            <p>How to Play:<br /><br />Use the Arrow keys on your keyboard to move the snake Up, Down, Left or Right. The Goal is to eat as many apples without hitting the walls or your own body.<br /><br /> Good luck!</p>
        </div>
    </div>

    <script>
        var canvas;
        var canvasContext;
        var snakeX = 50;
        var snakeY = 325;
        var snakeSpeedX = 5;
        var snakeSpeedY = 5;

        //next line draws position of the snake
        var snakeBody = snakeY;
        //next line defines the height in pixels of the snakes body
        const SNAKE_HEIGHT = 10;


        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            var framesPerSecond = 30;
            setInterval(function () {
                moveSnake();
                drawGame();
            }, 1000 / framesPerSecond);
        }

        function moveSnake() {
            snakeX = snakeX + snakeSpeedX;
            if (snakeX < 0) {
                snakeSpeedX = -snakeSpeedX;
            }
            if (snakeX > canvas.width) {
                snakeSpeedX = -snakeSpeedX;
            }
            if (snakeY < 0) {
                snakeSpeedY = -snakeSpeedY;
            }
            if (snakeY > canvas.height) {
                snakeSpeedY = -snakeSpeedY;
            }
        }

        function drawGame() {
            //draw canvas to black
            colorRect(0, 0, canvas.width, canvas.height, 'black');

            //draws a circle for the apple
            colorCircle(330, 330, 5, 'green');

            //draw snake to red
            colorRect(snakeX, snakeY, 20, 10, 'red');
        }

        //creates function to draw a circle
        function colorCircle(centerX, centerY, radius, drawColor) {
            canvasContext.fillStyle = drawColor;
            canvasContext.beginPath();
            canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true);
            canvasContext.fill();

        }

        //creates a function to draw a rectangle
        function colorRect(leftX, topY, width, height, drawColor) {
            canvasContext.fillStyle = drawColor;
            canvasContext.fillRect(leftX, topY, width, height);
        }

        //Creates function for snake movemenet with arrow keys 
        let d;

        document.addEventListener('keydown', direction);

        function direction(event) {
            if (event.keycode == 37 && d !="RIGHT") {
                d = "LEFT";
            }
            else if (event.keycode == 38 && d !="DOWN") {
                d = "UP";
            }
            else if (event.keycode == 39 && d != "LEFT") {
                d = "RIGHT";
            }
            else if (event.keycode == 40 && d != "UP") {
                d = "DOWN";
            }
        }

    </script>

</body>
</html>
