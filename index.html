<!DOCTYPE html>
<html>
<head>
    <title>Play The Retro Snake Game!</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div id="container">
        <div id="topTitleBar">

            <h1 id="topTitleText">Play The Retro Snake Game!</h1>

        </div>

        <canvas id="gameCanvas" width="650" height="650"></canvas>

        <div id="gameScoreBox">
            <h2>Score:</h2>
            <p>How to Play:<br /><br />Use the Arrow keys on your keyboard to move the snake Up, Down, Left or Right. The Goal is to eat as many apples without hitting the walls or your own body.<br /><br /> Good luck!</p>
        </div>
    </div>

    <script>
        
        

        //sets the starting pixel for the snake & food
        let pixel = 15;

        //creates the snake
        let snake = [];
        snake[0] = {
            x: 15 * pixel,
            y: 16 * pixel
        }

        //next line allows the apple to be placed randomly on the canvas
        let apple = {
            x: Math.floor(Math.random() * 23 + 1) * pixel,
            y: Math.floor(Math.random() * 19 + 3) * pixel
        }

        //sets and creates the score variable
        let score = 0;

        let snakeDirection;

        document.addEventListener('keydown', direction);

        //Creates function for snake movemenet with arrow keys
        function direction(event) {
            let key = event.keyCode;
            if (key == 37 && snakeDirection != "RIGHT") {
                snakeDirection = "LEFT";
            }
            else if (key == 38 && snakeDirection != "DOWN") {
                snakeDirection = "UP";
            }
            else if (key == 39 && snakeDirection != "LEFT") {
                snakeDirection = "RIGHT";
            }
            else if (key == 40 && snakeDirection != "UP") {
                snakeDirection = "DOWN";
            }
        }

        //Draw everything
        function drawEverything() {
            const ctx = document.getElementById("gameCanvas").getContext('2d');


            //draws snake
            for (let i = 0; i < snake.length; i++) {
                ctx.fillStyle = (i == 0) ? 'red' : 'grey';
                ctx.fillRect(snake[i].x, snake[i].y, pixel, pixel);

                ctx.strokeStyle = 'white';
                ctx.strokeRect(snake[i].x, snake[i].y, pixel, pixel);
            }

            //draws apple
            ctx.fillStyle = 'green';
            ctx.beginPath();
            ctx.arc(apple.x, apple.y, 7, 0, Math.PI * 2, true);
            ctx.fill();

            //old snake head
            let snakeX = snake[0].x;
            let snakeY = snake[0].y;

            //tail removal of the snake
            snake.pop();


            //moves snake according to which direction the user initiates
            if (snakeDirection = "LEFT") snakeX -= pixel;
            if (snakeDirection = "UP") snakeY -= pixel;
            if (snakeDirection = "RIGHT") snakeX += pixel;
            if (snakeDirection = "DOWN") snakeY += pixel;

            //new head creation
            let newHead = {
                x: snakeX,
                y: snakeY
            }

            snake.unshift(newHead);

        }

        //calls draw function
        let game = setInterval(drawEverything, 100);

       
    </script>

</body>
</html>
