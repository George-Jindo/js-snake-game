<!DOCTYPE html>
<html>
<head>
    <title>Play The Retro Snake Game!</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div id="container">
        <div id="topTitleBar">

            <h1 id="topTitleText">Play The Retro Snake Game!</h1>

        </div>

        <canvas id="gameCanvas" width="650" height="650"></canvas>

        <div id="gameScoreBox">
            <h2>Score:</h2>
            <p>How to Play:<br /><br />Use the Arrow keys on your keyboard to move the snake Up, Down, Left or Right. The Goal is to eat as many apples without hitting the walls or your own body.<br /><br /> Good luck!</p>
        </div>
    </div>

    <script>
        let canvas;
        let canvasContext;
        let snakeX = 50;
        let snakeY = 325;
        let snakeSpeedX = 5;
        let snakeSpeedY = 5;

        //sets the starting pixel for our images
        let pixel = 25;

        //next line draws position of the snake
        var snakeBody = snakeY;
        //next line defines the height in pixels of the snakes body
        const SNAKE_HEIGHT = 10;

        //next line allows the apple to be placed randomly on the canvas
        let apple = {
            x: Math.floor(Math.random() * 19 + 1) * pixel,
            y: Math.floor(Math.random() * 17 + 4) * pixel
        }

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            //sets the FPS to 30 and sets interval of the snake movement
            let framesPerSecond = 30;
            setInterval(function () {
                moveSnake();
                drawGame();
            }, 1000 / framesPerSecond);
        }

        function moveSnake() {
            snakeX = snakeX + snakeSpeedX;
            if (snakeX < 0) {
                snakeSpeedX = -snakeSpeedX;
            }
            if (snakeX > canvas.width) {
                snakeSpeedX = -snakeSpeedX;
            }
            if (snakeY < 0) {
                snakeSpeedY = -snakeSpeedY;
            }
            if (snakeY > canvas.height) {
                snakeSpeedY = -snakeSpeedY;
            }
        }

        //draws everything
        function drawGame() {
            //draw canvas to black
            colorRect(0, 0, canvas.width, canvas.height, 'black');

            //draws a circle for the apple
            colorCircle(apple.x, apple.y, 5, 'green');

            //draw snake to red
            colorRect(snakeX, snakeY, 20, 10, 'red');
        }

        //creates function to draw a circle
        function colorCircle(centerX, centerY, radius, drawColor) {
            canvasContext.fillStyle = drawColor;
            canvasContext.beginPath();
            canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true);
            canvasContext.fill();

        }

        //creates a function to draw a rectangle
        function colorRect(leftX, topY, width, height, drawColor) {
            canvasContext.fillStyle = drawColor;
            canvasContext.fillRect(leftX, topY, width, height);
        }

        //Creates function for snake movemenet with arrow keys 
        let snakeDirection;

        document.addEventListener('keydown', direction);

        function direction(event) {
            if (event.keycode == 37 && d !="RIGHT") {
                snakeDirection = "LEFT";
            }
            else if (event.keycode == 38 && d !="DOWN") {
                snakeDirection = "UP";
            }
            else if (event.keycode == 39 && d != "LEFT") {
                snakeDirection = "RIGHT";
            }
            else if (event.keycode == 40 && d != "UP") {
                snakeDirection = "DOWN";
            }
        }

    </script>

</body>
</html>
